# K-Stay RAG Knowledge Base
# =========================
# 이 파일들은 AI 상담사가 참조하는 지식 베이스입니다.
# 실제 배포 시 더 많은 데이터를 추가하세요.

import json

# =============================================================================
# 비자 종류별 가이드
# =============================================================================

VISA_GUIDES = {
    "D-10": {
        "name": "구직비자",
        "name_en": "Job Seeking Visa",
        "description": "한국에서 구직 활동을 하려는 외국인을 위한 비자",
        "duration": "6개월 (1회 연장 가능, 총 1년)",
        "requirements": [
            "대학(전문대학 포함) 이상 학위 소지자",
            "한국 내 대학 졸업자 또는",
            "해외 대학 졸업 후 한국어 능력 보유자 (TOPIK 3급 이상)"
        ],
        "required_documents": [
            "통합신청서",
            "여권 및 외국인등록증",
            "구직활동계획서",
            "졸업증명서",
            "성적증명서",
            "이력서"
        ],
        "prohibited_activities": [
            "취업 활동 (단, D-10-1은 제한적 허용)",
            "영리 목적 사업"
        ],
        "tips": [
            "구직활동계획서는 구체적인 월별 계획을 포함해야 함",
            "'취업 확정', '내정' 등의 표현은 피할 것",
            "연장 신청 시 실제 구직 활동 증빙 필요"
        ],
        "common_rejection_reasons": [
            "구직계획이 추상적이고 구체성 부족",
            "학력 요건 미충족",
            "한국어 능력 미달"
        ]
    },
    
    "F-6": {
        "name": "결혼이민",
        "name_en": "Marriage Immigration Visa",
        "description": "한국인과 결혼한 외국인을 위한 비자",
        "duration": "1~3년 (영주권/귀화 신청 가능)",
        "requirements": [
            "한국인과의 유효한 혼인관계",
            "한국어 기본 소통 능력 또는 결혼이민자 사전교육 이수",
            "배우자의 소득 요건 충족"
        ],
        "required_documents": [
            "통합신청서",
            "결혼배경 진술서 (필수!)",
            "배우자 초청장",
            "혼인관계증명서",
            "배우자 주민등록등본",
            "배우자 소득증명 (원천징수영수증, 소득금액증명원 등)",
            "주거지 증빙 (임대차계약서 등)"
        ],
        "income_requirements": {
            "기준": "전년도 1인 가구 중위소득 이상",
            "2024년_기준": "약 월 222만원 이상",
            "면제_조건": [
                "한국인 배우자와 사이에 자녀가 있는 경우",
                "임신 중인 경우"
            ]
        },
        "tips": [
            "결혼배경 진술서는 교제 과정을 시간순으로 구체적으로 작성",
            "첫 만남, 교제, 결혼 결심 과정을 자세히",
            "사진, 채팅 기록 등 교제 증빙 자료 첨부 권장"
        ],
        "common_rejection_reasons": [
            "위장결혼 의심 (교제 기간 너무 짧음, 나이 차이 큼)",
            "소득 요건 미충족",
            "결혼배경 진술서의 신빙성 부족"
        ]
    },
    
    "E-7": {
        "name": "특정활동",
        "name_en": "Professional Employment Visa",
        "description": "전문 분야에서 근무하려는 외국인을 위한 비자",
        "duration": "1~3년 (연장 가능)",
        "requirements": [
            "해당 분야 학사 이상 학위 또는",
            "관련 분야 5년 이상 경력",
            "고용계약 체결"
        ],
        "required_documents": [
            "통합신청서 또는 사증발급인정신청서",
            "고용계약서",
            "학력증명서",
            "경력증명서",
            "고용활용계획서",
            "사업자등록증",
            "기업 재무제표"
        ],
        "eligible_occupations": [
            "IT/소프트웨어 개발",
            "기계/전기 엔지니어링",
            "통번역",
            "디자인",
            "경영컨설팅",
            "기타 전문직"
        ],
        "tips": [
            "고용활용계획서에 채용 필요성을 구체적으로 설명",
            "국내 인력으로 대체 불가함을 강조",
            "급여가 동종업계 평균 이상임을 증빙"
        ],
        "common_rejection_reasons": [
            "직무가 전문성 부족 (단순 노무로 판단)",
            "급여 수준이 너무 낮음",
            "국내 인력 대체 가능성"
        ]
    },
    
    "F-1-5": {
        "name": "가족방문 (부모초청)",
        "name_en": "Family Visit (Parent Invitation)",
        "description": "한국에 거주하는 자녀가 부모를 초청하는 비자",
        "duration": "최대 2년",
        "requirements": [
            "초청인이 한국에 합법적으로 체류 중",
            "초청인의 경제적 부양 능력",
            "피초청인(부모)이 특정 연령 이상"
        ],
        "required_documents": [
            "사증발급인정신청서",
            "가족초청장",
            "신원보증서",
            "불법취업 방지 서약서",
            "가족관계 증명 서류",
            "초청인 소득 및 재산 증명"
        ],
        "tips": [
            "초청 사유를 인도적 관점에서 작성",
            "불법 체류/취업 의도 없음을 강조",
            "경제적 부양 능력 충분히 증빙"
        ]
    }
}

# =============================================================================
# 시간제 취업 (아르바이트) 가이드
# =============================================================================

PART_TIME_WORK_GUIDE = {
    "eligible_visas": ["D-2 (유학)", "D-4 (연수)"],
    "conditions": {
        "입국 후 경과 기간": "6개월",
        "학기 중 근무시간": "주 20시간 이내",
        "방학 중 근무시간": "무제한",
        "출석률 요건": "직전 학기 90% 이상"
    },
    "prohibited_industries": [
        "유흥업소",
        "사행성 업소",
        "노래방/단란주점",
        "안마시술소"
    ],
    "required_documents": [
        "시간제취업 확인서",
        "표준근로계약서",
        "요건 준수 확인서",
        "재학증명서",
        "성적증명서",
        "사업자등록증 사본"
    ],
    "wage_requirements": {
        "최저임금_준수": True,
        "2024년_최저시급": "9,860원"
    }
}

# =============================================================================
# 귀화 가이드
# =============================================================================

NATURALIZATION_GUIDE = {
    "types": {
        "일반귀화": {
            "거주요건": "5년 이상 계속 거주",
            "requirements": [
                "성년",
                "품행 단정",
                "생계유지 능력",
                "한국어 및 문화 이해"
            ]
        },
        "간이귀화": {
            "대상": "한국인 배우자",
            "거주요건": "2년 이상 계속 거주 또는 3년 이상 혼인 유지 중 1년 거주"
        },
        "특별귀화": {
            "대상": "특별한 공로자"
        }
    },
    "required_documents": [
        "귀화허가신청서",
        "귀화동기서",
        "신원진술서",
        "가족관계 증명 서류",
        "범죄경력 조회 동의서",
        "한국어 능력 증명"
    ],
    "tests": {
        "필기시험": "한국사, 정치, 경제, 문화",
        "면접": "귀화 동기, 한국 생활 적응도"
    }
}

# =============================================================================
# 주요 용어 정의
# =============================================================================

GLOSSARY = {
    "통합신청서": "출입국관리법에 따른 각종 체류허가 신청에 공통으로 사용되는 신청서 (별지 제34호 서식)",
    "체류자격": "외국인이 한국에 체류하며 활동할 수 있는 법적 지위",
    "체류기간": "허가된 체류자격으로 한국에 머무를 수 있는 기간",
    "체류자격 변경": "현재 체류자격을 다른 체류자격으로 변경하는 것",
    "체류기간 연장": "현재 체류자격을 유지하면서 체류기간을 연장하는 것",
    "외국인등록": "91일 이상 한국에 체류하는 외국인이 해야 하는 등록",
    "재입국허가": "출국 후 재입국 시 필요한 허가 (현재 대부분 면제)",
    "하이코리아": "출입국 민원 온라인 서비스 (www.hikorea.go.kr)"
}

# =============================================================================
# 저장 함수
# =============================================================================

def save_knowledge_base():
    """지식 베이스를 JSON 파일로 저장"""
    knowledge_base = {
        "visa_guides": VISA_GUIDES,
        "part_time_work": PART_TIME_WORK_GUIDE,
        "naturalization": NATURALIZATION_GUIDE,
        "glossary": GLOSSARY
    }
    
    with open("knowledge_base.json", "w", encoding="utf-8") as f:
        json.dump(knowledge_base, f, ensure_ascii=False, indent=2)
    
    print("Knowledge base saved to knowledge_base.json")

if __name__ == "__main__":
    save_knowledge_base()
